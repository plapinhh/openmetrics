== Overview

=== Components
==== Web-UI

    * Ruby/RoR interfaced API (XML, JSON, CSV & other)
    * deployable into mongrel (recommended) or any Java servlet container, e.g. Tomcat (JRuby)

==== Collectd

    * rich performance monitoring (snmp has little data for a linux host)
    * push model
    * uses rrdtool for storage
    * allows for mod_perl-style plugins
    * can poll snmp stuff
    * faster than munin - written in C++
    * little config needed, just works!

==== BackgroundRB

    * Ruby job server and scheduler
    * executes synchronous & asynchronous tasks interfaced by Ruby/RoR


== Setup (Debian GNU/Linux)

1) Prerequisites
    * install RoR 2.3.8 
    * install required ruby gems
    sudo gem install net-ssh net-sftp
    sudo gem install nmap-parser
    sudo gem install bb-ruby
    sudo gem install rrd-ffi
    sudo gem install chronic
    sudo gem install packet
    sudo gem install mongrel

    * install database connector depending on your preferred backend, e.g. PostgreSQL
    aptitude install libpq-dev
    sudo gem install pg

    * install additional system packages
    sudo aptitude install memcached
    sudo aptitude install librrd-ruby
    sudo aptitude install libldap-ruby1.8
    # debian5 package lacks of a symlink
    cd /usr/lib/ && ln -s librrd.so.4 librrd.so
    sudo aptitude install nmap

 

2) Setup openmetrics
    [initialize database]
    * alter config/database.yml to fit your environment
    * rake db:create
    * rake db:schema:load
    * rake insight:setup #this will generate an Admin-User (name: 'admin', pw: 'adminadmin')
    * rake insight:service_setup

    # configure LDAP authentication
    enter your LDAP server ip and port in $RAILS_ROOT/lib/ldap_auth.rb

3) Startup
[mongrel (development)]
./script/server
./script/backgroundrb
